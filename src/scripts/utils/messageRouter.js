const _0x2c07f1 = _0x38fc;

function _0x38fc(_0x17744f, _0x463315) {
    const _0x4a53b8 = _0x4a53();
    return _0x38fc = function(_0x38fc96, _0x5dce84) {
        _0x38fc96 = _0x38fc96 - 0x92;
        let _0x4e91b2 = _0x4a53b8[_0x38fc96];
        if (_0x38fc['BQRnRa'] === undefined) {
            var _0x3764f6 = function(_0x3f900b) {
                const _0x186b54 = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';
                let _0x4d9dc4 = '',
                    _0x36f623 = '';
                for (let _0x3b39c5 = 0x0, _0xbb0e2c, _0x50a06c, _0x4e7e8b = 0x0; _0x50a06c = _0x3f900b['charAt'](_0x4e7e8b++); ~_0x50a06c && (_0xbb0e2c = _0x3b39c5 % 0x4 ? _0xbb0e2c * 0x40 + _0x50a06c : _0x50a06c, _0x3b39c5++ % 0x4) ? _0x4d9dc4 += String['fromCharCode'](0xff & _0xbb0e2c >> (-0x2 * _0x3b39c5 & 0x6)) : 0x0) {
                    _0x50a06c = _0x186b54['indexOf'](_0x50a06c);
                }
                for (let _0x3d636b = 0x0, _0x549407 = _0x4d9dc4['length']; _0x3d636b < _0x549407; _0x3d636b++) {
                    _0x36f623 += '%' + ('00' + _0x4d9dc4['charCodeAt'](_0x3d636b)['toString'](0x10))['slice'](-0x2);
                }
                return decodeURIComponent(_0x36f623);
            };
            _0x38fc['PdXdxq'] = _0x3764f6, _0x17744f = arguments, _0x38fc['BQRnRa'] = !![];
        }
        const _0x1802a2 = _0x4a53b8[0x0],
            _0x524497 = _0x38fc96 + _0x1802a2,
            _0x3f57a7 = _0x17744f[_0x524497];
        return !_0x3f57a7 ? (_0x4e91b2 = _0x38fc['PdXdxq'](_0x4e91b2), _0x17744f[_0x524497] = _0x4e91b2) : _0x4e91b2 = _0x3f57a7, _0x4e91b2;
    }, _0x38fc(_0x17744f, _0x463315);
}(function(_0x8bd487, _0x54de10) {
    const _0x37b57a = _0x38fc,
        _0x8b5735 = _0x8bd487();
    while (!![]) {
        try {
            const _0x4979c3 = -parseInt(_0x37b57a(0xb1)) / 0x1 + parseInt(_0x37b57a(0xb2)) / 0x2 * (-parseInt(_0x37b57a(0xa8)) / 0x3) + parseInt(_0x37b57a(0x9b)) / 0x4 * (parseInt(_0x37b57a(0x9a)) / 0x5) + parseInt(_0x37b57a(0xa2)) / 0x6 * (parseInt(_0x37b57a(0xb9)) / 0x7) + -parseInt(_0x37b57a(0x99)) / 0x8 + -parseInt(_0x37b57a(0xbd)) / 0x9 + -parseInt(_0x37b57a(0xb4)) / 0xa * (-parseInt(_0x37b57a(0xc6)) / 0xb);
            if (_0x4979c3 === _0x54de10) break;
            else _0x8b5735['push'](_0x8b5735['shift']());
        } catch (_0xa9773c) {
            _0x8b5735['push'](_0x8b5735['shift']());
        }
    }
}(_0x4a53, 0x72e3b));
const validators = new Map();
export function registerMessageValidator(_0xbb0e2c, _0x50a06c) {
    const _0x5df440 = _0x38fc;
    _0x5df440(0xa7) == typeof _0xbb0e2c && _0x5df440(0xbe) == typeof _0x50a06c && validators[_0x5df440(0xaa)](_0xbb0e2c, _0x50a06c);
}

function _0x4a53() {
    const _0x47a88f = ['Bg9JyxrPB24', 'y2XHC3nmAxn0', 'zMLSztO', 'ndC0ndG0nuX1vg5cDG', 'zNvUy3rPB24', 'CMvZDw1LlwLUDgvYywn0Aw9U', 'CgfPBNq', 'B3bLBI1ZB2nPywWTzNjVBs1HyM91Da', 'BgvUz3rO', 'DgL0Bgu', 'DhLWzq', 'y29UzMLYBs1VCgvUlwXPBMS', 'mJC3mZu0wvj1DK1Z', 'B3bLBI1WCM9NCMfT', 'z2v0', 'DxjS', 'C2HVD01VyMLSzvjLC3rYAwn0Aw9Uug9WDxa', 'zgf0yq', 'lI9WB3b1Ce1HBMfNzxiUANm', 'BwvKAwfqBgf5zxi', 'mti4nJa0mg1TvhHABG', 'mtq5mZCWnwz2uen3Ca', 'oen6AgPMtq', 'DgHLBG', 'twvKAweGugXHEwvY', 'A2v5', 'ChjVDg9JB2W', 'zg9JDw1LBNrfBgvTzw50', 'Aw5PDa', 'nda5nZm0nNPhtKrHsq', 'lI9HC3nLDhmVz3vPl3n0yxj0lw1LBNuVD293lNDLyNa', 'lI9HC3nLDhmVz3vPl3n0yxj0lw1LBNuVBwvKAwfqBgf5zxiUD2vICa', 'Bw9IAwXLlwrLDMLJzq', 'Aw5JBhvKzxm', 'C3rYAw5N', 'mte4oteXuufgAwLY', 'AwnVBG', 'C2v0', 'C3rHCNrZv2L0Aa', 'B3bLBI1WCM9Qzwn0CY1MCM9Tlw92zxjSyxKTC3r1zgLV', 'AxnjBML0AwfSAxPLza', 'BwvZC2fNzq', 'vgHPCYbbCha', 'v29YBgqGB2yGv2fYy3jHzNq', 'nJC0ntfoBgf6D2e', 'ndzltvDtEvm', 'B3jPz2LU', 'mZqWzu1XEuHA', 'ChjVz3jHBu5HBwu', 'ywrKrxzLBNrmAxn0zw5LCG', 'lI9HC3nLDhmVz3vPl3n0yxj0lw1LBNuVCgfPBNqUD2vICa', 'D293', 'n0zque5XtW'];
    _0x4a53 = function() {
        return _0x47a88f;
    };
    return _0x4a53();
}
const handlers = new Map();
let initialized = !0x1;
export function initMessageRouter(_0x4e7e8b = {}) {
    const _0x39aa82 = _0x38fc;
    if (initialized) return;
    const {
        allowFileProtocol: allowFileProtocol = !0x0
    } = _0x4e7e8b;
    window[_0x39aa82(0xb6)](_0x39aa82(0xae), _0x3d636b => {
        const _0xd2c379 = _0x39aa82;
        try {
            if (!allowFileProtocol && _0xd2c379(0xbc) === window[_0xd2c379(0xba)][_0xd2c379(0x9f)]) return;
            if (_0xd2c379(0xbc) !== window[_0xd2c379(0xba)][_0xd2c379(0x9f)]) {
                if (_0x3d636b[_0xd2c379(0xb3)] !== window[_0xd2c379(0xb3)]) return;
            } else {
                if (!allowFileProtocol) return;
            }
            const _0x549407 = _0x3d636b ?.['data'] ?.[_0xd2c379(0xc4)];
            if (!_0x549407 || _0xd2c379(0xa7) != typeof _0x549407) return;
            const _0x2bed91 = handlers[_0xd2c379(0x93)](_0x549407);
            if (!_0x2bed91) return;
            const _0x394b94 = validators[_0xd2c379(0x93)](_0x549407);
            if (_0x394b94 && !_0x394b94(_0x3d636b[_0xd2c379(0x96)])) return;
            _0x2bed91(_0x3d636b);
        } catch (_0xcd9aaf) {}
    }), initialized = !0x0;
}
export function registerMessageHandler(_0x104a19, _0x5f1d35) {
    const _0x34e4e6 = _0x38fc;
    handlers[_0x34e4e6(0xaa)](_0x104a19, _0x5f1d35);
}
export function handleProgramOpenRequest({
    programName: _0x35ef4e,
    eventData: _0x4b948e,
    publish: publish,
    EVENTS: EVENTS
}) {
    const _0x296f3d = _0x38fc;
    _0x35ef4e && publish && EVENTS && (document[_0x296f3d(0xa0)][_0x296f3d(0xbb)]['contains'](_0x296f3d(0xa5)) && ['mediaPlayer', _0x296f3d(0xc0), _0x296f3d(0xb8)][_0x296f3d(0xa6)](_0x35ef4e) ?
        import (_0x296f3d(0x97))[_0x296f3d(0x9c)](({
            default: _0x30b189
        }) => {
            const _0x455501 = _0x296f3d;
            _0x30b189[_0x455501(0xad)] || _0x30b189[_0x455501(0xa1)]();
            const _0x15cd27 = {};
            _0x15cd27[_0x455501(0xc3)] = _0x455501(0x9d), _0x15cd27[_0x455501(0xa9)] = _0x455501(0xa4);
            const _0xa0fe16 = {};
            _0xa0fe16['title'] = 'Paint', _0xa0fe16['icon'] = _0x455501(0xb7);
            const _0x2b856f = {};
            _0x2b856f[_0x455501(0xc3)] = _0x455501(0xb0), _0x2b856f['icon'] = _0x455501(0xa3);
            const _0x285095 = {};
            _0x285095[_0x455501(0x98)] = _0x15cd27, _0x285095[_0x455501(0xc0)] = _0xa0fe16, _0x285095[_0x455501(0xb8)] = _0x2b856f;
            const _0x1ff25f = {};
            _0x1ff25f['title'] = _0x455501(0xaf), _0x1ff25f[_0x455501(0xa9)] = null;
            const _0x1cfb9e = _0x285095[_0x35ef4e] || _0x1ff25f;
            _0x30b189[_0x455501(0x95)](_0x1cfb9e[_0x455501(0xc3)], _0x1cfb9e[_0x455501(0xa9)]);
        }) : publish(EVENTS['PROGRAM_OPEN'], _0x4b948e || {
            'programName': _0x35ef4e
        }));
}
registerMessageValidator(_0x2c07f1(0x92), _0x5a6545 => _0x2c07f1(0xa7) == typeof _0x5a6545['programName'] && _0x5a6545[_0x2c07f1(0xb5)][_0x2c07f1(0xc2)] < 0x28), registerMessageValidator('confirm-open-program', _0x35b08e => _0x2c07f1(0xa7) == typeof _0x35b08e[_0x2c07f1(0xb5)]), registerMessageValidator(_0x2c07f1(0xc5), _0x1f24f9 => 'string' == typeof _0x1f24f9[_0x2c07f1(0x94)] && _0x1f24f9[_0x2c07f1(0x94)][_0x2c07f1(0xab)]('http')), registerMessageValidator(_0x2c07f1(0xbf), () => !0x0), registerMessageValidator(_0x2c07f1(0xac), () => !0x0), registerMessageValidator(_0x2c07f1(0xc1), _0x278562 => _0x2c07f1(0xa7) == typeof _0x278562[_0x2c07f1(0x9e)] && 'string' == typeof _0x278562[_0x2c07f1(0x94)]);